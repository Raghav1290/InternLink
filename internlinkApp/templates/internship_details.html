{% extends 'userbase.html' %}

{% block title %}Internship Details{% endblock %}

{% set active_page = 'browse_internships' %}

{% block content %}
<section class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            {% if internship %}
            <div class="card shadow-lg mb-4 border-0">
                <div class="card-header bg-dark text-white text-center py-4 rounded-top"> 
                    <h2 class="mb-2">{{ internship.title }}</h2> 
                    {% if internship.logo_path %}
                        <img src="{{ url_for('static', filename=internship.logo_path) }}" alt="{{ internship.company_name }} Logo" class="mt-3 mb-3 border border-white rounded" style="max-height: 100px; width: auto; background-color: white; padding: 8px;"> {# Added mt-3 mb-3, border, rounded #}
                    {% endif %}
                    <h4 class="card-subtitle text-white-75">{{ internship.company_name }}</h4> 
                </div>
                <div class="card-body p-4"> 
                    <h5 class="text-primary mb-3">Job Description:</h5> 
                    <p class="card-text mb-4">{{ internship.description }}</p> 
                    <hr>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex align-items-center"><i class="bi bi-geo-alt-fill text-info me-2"></i><strong>Location:</strong> <span class="ms-auto">{{ internship.location }}</span></li>
                                <li class="list-group-item d-flex align-items-center"><i class="bi bi-clock-fill text-info me-2"></i><strong>Duration:</strong> <span class="ms-auto">{{ internship.duration }}</span></li>
                                <li class="list-group-item d-flex align-items-center"><i class="bi bi-currency-dollar text-info me-2"></i><strong>Stipend:</strong> <span class="ms-auto">{{ internship.stipend }}</span></li>
                                <li class="list-group-item d-flex align-items-center"><i class="bi bi-person-fill me-2 text-info"></i><strong>Openings:</strong> <span class="ms-auto">{{ internship.number_of_opening }}</span></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex align-items-center"><i class="bi bi-tools text-info me-2"></i><strong>Skills:</strong> <span class="ms-auto">{{ internship.skills_required }}</span></li>
                                <li class="list-group-item d-flex align-items-center"><i class="bi bi-calendar-check-fill text-info me-2"></i><strong>Deadline:</strong> <span class="ms-auto">{{ internship.deadline.strftime('%Y-%m-%d') }}</span></li>
                                {% if internship.additional_req %}
                                <li class="list-group-item d-flex align-items-start"><i class="bi bi-info-circle-fill text-info me-2 mt-1"></i><strong>Additional:</strong> <span class="flex-grow-1">{{ internship.additional_req }}</span></li>
                                {% endif %}
                                {% if internship.website %}
                                <li class="list-group-item d-flex align-items-center"><i class="bi bi-globe text-info me-2"></i><strong>Company:</strong> <a href="{{ internship.website }}" target="_blank" class="ms-auto text-primary text-decoration-none fw-bold">{{ internship.website }}</a></li>
                                {% endif %}
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="card-footer text-center bg-light py-3"> 
                    <a href="{{ url_for('apply_for_internship', internship_id=internship.internship_id) }}" class="btn btn-success btn-lg me-3">Apply Now</a> 
                    <a href="{{ url_for('browse_internships') }}" class="btn btn-secondary btn-lg">Back to Browse</a> 
                </div>
            </div>
            {% else %}
            <div class="alert alert-warning text-center shadow-sm" role="alert">
                <p class="lead mb-0">Internship details not found.</p>
            </div>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}